# –î–Ω–∏ –±–µ–∑: –æ—Ç–∫–∞–∑ –æ—Ç –≤—Ä–µ–¥–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–Ω–µ–π –±–µ–∑ –≤—Ä–µ–¥–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫. –ü–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –ø—É—Ç—å –∫ –∑–¥–æ—Ä–æ–≤–æ–º—É –æ–±—Ä–∞–∑—É –∂–∏–∑–Ω–∏.

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ **MVVM (Model-View-ViewModel)** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **SwiftUI**.

### –ü–æ—á–µ–º—É MVVM?

- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** ‚Äî –ª–æ–≥–∏–∫–∞ –æ—Ç–¥–µ–ª–µ–Ω–∞ –æ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî ViewModel –ª–µ–≥–∫–æ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç—Å—è unit-—Ç–µ—Å—Ç–∞–º–∏
- **–†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** ‚Äî –Ω–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —á–µ—Ä–µ–∑ `@Observable` / `ObservableObject`
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî —É–¥–æ–±–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ–∏—á–∏

### –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    View     ‚îÇ ‚Üê‚îÄ‚îÄ‚Üí ‚îÇ  ViewModel   ‚îÇ ‚Üê‚îÄ‚îÄ‚Üí ‚îÇ   Service   ‚îÇ
‚îÇ  (SwiftUI)  ‚îÇ      ‚îÇ (Observable) ‚îÇ      ‚îÇ   (Data)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì
                     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                     ‚îÇ    Model    ‚îÇ
                     ‚îÇ  (Struct)   ‚îÇ
                     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
DaysWithout/
‚îú‚îÄ‚îÄ App/                    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ DaysWithoutApp.swift
‚îÇ
‚îú‚îÄ‚îÄ Core/                   # –ë–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ UserStatus.swift
‚îÇ   ‚îú‚îÄ‚îÄ UserStatusProvider.swift
‚îÇ   ‚îú‚îÄ‚îÄ TimerConstants.swift
‚îÇ   ‚îú‚îÄ‚îÄ Theme.swift          # –¶–≤–µ—Ç–∞ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ ExampleUsage.swift
‚îÇ
‚îú‚îÄ‚îÄ Models/                 # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ HabitCard.swift
‚îÇ
‚îú‚îÄ‚îÄ ViewModels/             # ViewModel'—ã
‚îÇ   ‚îú‚îÄ‚îÄ MainViewModel.swift
‚îÇ   ‚îî‚îÄ‚îÄ HabitCardViewModel.swift
‚îÇ
‚îú‚îÄ‚îÄ Services/               # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ StorageService.swift
‚îÇ   ‚îú‚îÄ‚îÄ HabitService.swift
‚îÇ   ‚îî‚îÄ‚îÄ TimerService.swift
‚îÇ
‚îú‚îÄ‚îÄ UI/                     # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îú‚îÄ‚îÄ Screens/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MainView.swift
‚îÇ   ‚îî‚îÄ‚îÄ Components/
‚îÇ       ‚îú‚îÄ‚îÄ HabitCardView.swift
‚îÇ       ‚îî‚îÄ‚îÄ AddHabitButtonView.swift
‚îÇ
‚îî‚îÄ‚îÄ Purchases/              # In-App Purchases (–ø—É—Å—Ç–æ –Ω–∞ —ç—Ç–∞–ø–µ 3)
```

### –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞–ø–æ–∫

| –ü–∞–ø–∫–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –≠—Ç–∞–ø 3 |
|-------|------------|--------|
| `App/` | –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (`@main`), –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| `Core/` | –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –ø—Ä–æ—Ç–æ–∫–æ–ª—ã, —Ç–µ–º–∞, –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| `Models/` | –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (HabitCard) | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| `ViewModels/` | –ö–ª–∞—Å—Å—ã —Å `@Observable` –¥–ª—è –ª–æ–≥–∏–∫–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| `Services/` | –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞: —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏, —Ç–∞–π–º–µ—Ä—ã | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| `UI/` | SwiftUI View: —ç–∫—Ä–∞–Ω—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (Main —ç–∫—Ä–∞–Ω) |
| `Purchases/` | –õ–æ–≥–∏–∫–∞ –ø–æ–∫—É–ø–æ–∫ –∏ –ø–æ–¥–ø–∏—Å–æ–∫ (StoreKit) | –ü—É—Å—Ç–æ |

---

## üîÑ –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —ç—Ç–∞–ø)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–ª–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞:

1. **–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** ‚Äî –∑–∞–ø—É—Å–∫ `DaysWithoutApp` ‚Üí –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è `MainView` (–≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å–æ —Å–ø–∏—Å–∫–æ–º –ø—Ä–∏–≤—ã—á–µ–∫).
2. **–£–≤–∏–¥–µ—Ç—å —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤** ‚Äî –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –∏–∑ `MainViewModel` (–ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ `HabitService.cardsPublisher`); –ø—Ä–∏ –ø—É—Å—Ç–æ–º —Å–ø–∏—Å–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è empty state (¬´–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –ø—Ä–∏–≤—ã—á–∫—É¬ª), –∏–Ω–∞—á–µ ‚Äî —Å–µ—Ç–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫.
3. **–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —ç–∫—Ä–∞–Ω –¥–æ–±–∞–≤–ª–µ–Ω–∏—è** ‚Äî —Ç–∞–ø –ø–æ –∫–Ω–æ–ø–∫–µ ¬´–î–æ–±–∞–≤–∏—Ç—å¬ª ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ `AddHabitView` (overlay –ø–æ–≤–µ—Ä—Ö –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞).
4. **–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç** ‚Äî –≤–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è –∏ –≤—ã–±–æ—Ä —Ü–≤–µ—Ç–∞ ‚Üí —Ç–∞–ø ¬´–°–æ–∑–¥–∞—Ç—å¬ª ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–æ `AddHabitViewModel` (`attemptCreate()`) ‚Üí –ø—Ä–∏ —É—Å–ø–µ—Ö–µ –≤—ã–∑–æ–≤ `HabitService.create()` ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —á–µ—Ä–µ–∑ `cardsPublisher`.
5. **–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥ –∏ —É–≤–∏–¥–µ—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç** ‚Äî –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `onDismiss()`, –º–æ–¥–∞–ª–∫–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è; —Å–ø–∏—Å–æ–∫ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ —É–∂–µ –æ–±–Ω–æ–≤–ª—ë–Ω —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ (–±–µ–∑ –∫–æ—Å—Ç—ã–ª–µ–π).

**–ù–∞–≤–∏–≥–∞—Ü–∏—è:** —Å–ø–∏—Å–æ–∫ ‚Üî —ç–∫—Ä–∞–Ω –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º `showAddHabitView` –≤ `MainView`; –≤–æ–∑–≤—Ä–∞—Ç ‚Äî –ø–æ –∫–Ω–æ–ø–∫–µ ¬´–û—Ç–º–µ–Ω–∞¬ª –∏–ª–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ ¬´–°–æ–∑–¥–∞—Ç—å¬ª. –õ–æ–≥–∏–∫–∞ –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è, View —Ç–æ–ª—å–∫–æ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

**–î–∞–Ω–Ω—ã–µ:** –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (`UserDefaultsStorageService`); –∑–∞–≥—Ä—É–∑–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Äî —Ç–æ–ª—å–∫–æ –≤–æ ViewModel; View –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –±–∏–Ω–¥–∏–Ω–≥ –∏ –Ω–µ –∑–Ω–∞–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫.

---

## üìê –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —Å–ª–æ—ë–≤

### View (UI/) ‚Äî **–ó–∞–≥–æ—Ç–æ–≤–∫–∞ –ø–æ–¥ –±—É–¥—É—â–∏–µ —ç—Ç–∞–ø—ã**

**–ß—Ç–æ –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å (–Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö —ç—Ç–∞–ø–∞—Ö):**
- –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ ViewModel
- –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ ViewModel
- –°–æ–¥–µ—Ä–∂–∞—Ç—å –¢–û–õ–¨–ö–û –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—É—é —Ä–∞–∑–º–µ—Ç–∫—É SwiftUI

**–ß—Ç–æ –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–æ View:**
- ‚ùå –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (—Ä–∞—Å—á—ë—Ç—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—è, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç)
- ‚ùå –ü—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚ùå –†–∞–±–æ—Ç–∞ —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –°–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- ‚ùå –°–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ `body`

---

### ViewModel (ViewModels/) ‚Äî **–ó–∞–≥–æ—Ç–æ–≤–∫–∞ –ø–æ–¥ –±—É–¥—É—â–∏–µ —ç—Ç–∞–ø—ã**

**–ß—Ç–æ –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å (–Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö —ç—Ç–∞–ø–∞—Ö):**
- –•—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞ (`@Observable` / `ObservableObject`)
- –°–æ–¥–µ—Ä–∂–∞—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (presentation logic)
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –í—ã–∑—ã–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥

**–ß—Ç–æ –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–æ ViewModel:**
- ‚ùå UI-–∫–æ–¥ (SwiftUI Views, UIKit)
- ‚ùå –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å—ã)
- ‚ùå –°–æ–∑–¥–∞–Ω–∏–µ –¥—Ä—É–≥–∏—Ö ViewModel'–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ DI)

---

### Core

**–ß—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç:**
- **Extensions** ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ (`Date+Extensions.swift`, `String+Extensions.swift`)
- **Constants** ‚Äî –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`AppConstants.swift`)
- **Protocols** ‚Äî –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã (`Identifiable`, –∫–∞—Å—Ç–æ–º–Ω—ã–µ)
- **Helpers** ‚Äî —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **Modifiers** ‚Äî –∫–∞—Å—Ç–æ–º–Ω—ã–µ ViewModifier'—ã

**–ü—Ä–∞–≤–∏–ª–∞ Core:**
- ‚úÖ –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º
- ‚úÖ –ë–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ–∏—á
- ‚úÖ –ë–µ–∑ —Å–∞–π–¥-—ç—Ñ—Ñ–µ–∫—Ç–æ–≤ (—á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
- ‚ùå –ù–µ –¥–æ–ª–∂–µ–Ω –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å Models, ViewModels, Services

---

### Models

**–ß—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç:**
- –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (`struct`)
- Enum'—ã –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- –ü—Ä–æ—Ç–æ–∫–æ–ª—ã –º–æ–¥–µ–ª–µ–π

**–ü—Ä–∞–≤–∏–ª–∞ Models:**
- ‚úÖ –¢–æ–ª—å–∫–æ `struct` (value types) ‚Äî –Ω–µ –∫–ª–∞—Å—Å—ã
- ‚úÖ –î–æ–ª–∂–Ω—ã –±—ã—Ç—å `Codable` –µ—Å–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- ‚úÖ –î–æ–ª–∂–Ω—ã –±—ã—Ç—å `Identifiable` –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Å–ø–∏—Å–∫–∞—Ö
- ‚úÖ –î–æ–ª–∂–Ω—ã –±—ã—Ç—å `Hashable`/`Equatable` –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- ‚ùå –ë–µ–∑ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (—Ç–æ–ª—å–∫–æ computed properties –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)

---

### Services

**–ß—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç:**
- –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ (CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏)
- –°–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ API

**–ü—Ä–∞–≤–∏–ª–∞ Services:**
- ‚úÖ –í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª (`HabitServiceProtocol`)
- ‚úÖ Dependency Injection —á–µ—Ä–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä
- ‚úÖ –û–¥–∏–Ω —Å–µ—Ä–≤–∏—Å = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- ‚ùå –ë–µ–∑ UI-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚ùå –ë–µ–∑ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∏–∑ View

---

## üë®‚Äçüíª –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —ç–∫—Ä–∞–Ω

1. **–°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª—å** (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞) –≤ `Models/`
   ```
   Models/NewFeature.swift
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ ViewModel** –≤ `ViewModels/`
   ```
   ViewModels/NewFeatureViewModel.swift
   ```

3. **–°–æ–∑–¥–∞–π—Ç–µ View** –≤ `UI/`
   ```
   UI/Screens/NewFeatureScreen.swift
   UI/Components/NewFeatureCard.swift  // –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
   ```

4. **–°–æ–∑–¥–∞–π—Ç–µ/–æ–±–Ω–æ–≤–∏—Ç–µ Service** (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏)
   ```
   Services/NewFeatureService.swift
   ```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏ UI/ (–∑–∞–≥–æ—Ç–æ–≤–∫–∞ –ø–æ–¥ –±—É–¥—É—â–∏–µ —ç—Ç–∞–ø—ã)

```
UI/
‚îú‚îÄ‚îÄ Screens/           # –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (–±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
‚îÇ   ‚îú‚îÄ‚îÄ HomeScreen.swift
‚îÇ   ‚îú‚îÄ‚îÄ AddHabitScreen.swift
‚îÇ   ‚îî‚îÄ‚îÄ SettingsScreen.swift
‚îÇ
‚îú‚îÄ‚îÄ Components/        # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
‚îÇ   ‚îú‚îÄ‚îÄ HabitCard.swift
‚îÇ   ‚îú‚îÄ‚îÄ ProgressRing.swift
‚îÇ   ‚îî‚îÄ‚îÄ CategoryPicker.swift
‚îÇ
‚îî‚îÄ‚îÄ Modifiers/         # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã (–∏–ª–∏ –≤ Core/)
    ‚îî‚îÄ‚îÄ CardStyle.swift
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ù–∞ —ç—Ç–∞–ø–µ 2 –ø–∞–ø–∫–∞ `UI/` –ø—É—Å—Ç–∞—è.

### Naming Conventions

| –¢–∏–ø | –ü–∞—Ç—Ç–µ—Ä–Ω | –ü—Ä–∏–º–µ—Ä |
|-----|---------|--------|
| –≠–∫—Ä–∞–Ω (View) | `*Screen` | `HomeScreen`, `AddHabitScreen` |
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û–ø–∏—Å–∞—Ç–µ–ª—å–Ω–æ–µ –∏–º—è | `HabitCard`, `ProgressRing` |
| ViewModel | `*ViewModel` | `HomeViewModel`, `HabitCardViewModel` |
| Service | `*Service` | `HabitService`, `NotificationService` |
| Protocol | `*Protocol` | `HabitServiceProtocol` |
| Extension | `Type+Feature` | `Date+Formatting`, `Color+Theme` |

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **macOS** 14.0 (Sonoma) –∏–ª–∏ –Ω–æ–≤–µ–µ
- **Xcode** 15.0 –∏–ª–∏ –Ω–æ–≤–µ–µ
- **iOS** 16.0+

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Xcode**
   ```bash
   open DaysWithout.xcodeproj
   ```

2. **–í—ã–±–µ—Ä–∏—Ç–µ —Å–∏–º—É–ª—è—Ç–æ—Ä** iPhone 14, iOS 16.0 (–¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º)

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** ‚Äî `Cmd + R`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è Figma —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å iPhone 14 —Å iOS 16.0.

---

## üìä –≠—Ç–∞–ø 2: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

**–¶–µ–ª—å —ç—Ç–∞–ø–∞:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ UI.

**–†–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–∞–ø–∞:** –ì–æ—Ç–æ–≤–∞—è, –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è UI –Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö —ç—Ç–∞–ø–∞—Ö –±–µ–∑ –ø–µ—Ä–µ–¥–µ–ª–∫–∏.

### ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ —ç—Ç–∞–ø–µ 2

#### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ `HabitCard` ‚Äî –º–æ–¥–µ–ª—å –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∏–≤—ã—á–∫–∏ —Å computed property `daysCount`
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–¥–ª–∏–Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è ‚â§ 17 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `Codable`

#### –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- ‚úÖ `HabitService` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –ø—Ä–∏–≤—ã—á–µ–∫
- ‚úÖ `TimerService` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 24-—á–∞—Å–æ–≤—ã–º–∏ —Ç–∞–π–º–µ—Ä–∞–º–∏
- ‚úÖ –°—Ç—Ä–æ–≥–æ–µ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ Free / Pro
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –æ—Ç UI

#### –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ `StorageService` ‚Äî –ø—Ä–æ—Ç–æ–∫–æ–ª –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `UserDefaults`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ú–µ—Ç–æ–¥ –ø–æ–ª–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### –°—Ç–∞—Ç—É—Å—ã –∏ –ª–∏–º–∏—Ç—ã
- ‚úÖ `UserStatus` enum —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –ª–∏–º–∏—Ç–∞–º–∏
- ‚úÖ `UserStatusProvider` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –õ–∏–º–∏—Ç—ã: Free ‚Äî 3 –∫–∞—Ä—Ç–æ—á–∫–∏, Pro ‚Äî 6 –∫–∞—Ä—Ç–æ—á–µ–∫

### üî® –ó–∞–≥–æ—Ç–æ–≤–∫–∏ –ø–æ–¥ –±—É–¥—É—â–∏–µ —ç—Ç–∞–ø—ã

–°–ª–µ–¥—É—é—â–∏–µ –ø–∞–ø–∫–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã **–ø—É—Å—Ç—ã–µ** –Ω–∞ —ç—Ç–∞–ø–µ 2 –∏ –±—É–¥—É—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø–æ–∑–∂–µ:
- üìÅ `App/` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`@main`)
- üìÅ `UI/` ‚Äî SwiftUI Views, —ç–∫—Ä–∞–Ω—ã, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- üìÅ `ViewModels/` ‚Äî –∫–ª–∞—Å—Å—ã —Å `@Observable` –¥–ª—è –ª–æ–≥–∏–∫–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
- üìÅ `Purchases/` ‚Äî –ª–æ–≥–∏–∫–∞ –ø–æ–∫—É–ø–æ–∫ –∏ –ø–æ–¥–ø–∏—Å–æ–∫ (StoreKit)

**–í–∞–∂–Ω–æ:** –ù–∞ —ç—Ç–∞–ø–µ 2 **–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**:
- ‚ùå UI-–∫–æ–¥ (SwiftUI Views, —ç–∫—Ä–∞–Ω—ã, –Ω–∞–≤–∏–≥–∞—Ü–∏—è)
- ‚ùå –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (App.swift)
- ‚ùå ViewModel'—ã
- ‚ùå –õ–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ (—Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ)

---

## üì¶ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### HabitCard

–û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∏–≤—ã—á–∫–∏.

**–ü–æ–ª—è:**
- `id: UUID` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏
- `title: String` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ (–º–∞–∫—Å–∏–º—É–º 17 —Å–∏–º–≤–æ–ª–æ–≤)
- `startDate: Date` ‚Äî –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- `daysCount: Int` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –±–µ–∑ –ø—Ä–∏–≤—ã—á–∫–∏ (–≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- `colorID: Int` ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ü–≤–µ—Ç–∞ –∫–∞—Ä—Ç–æ—á–∫–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç `Codable` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç `Identifiable` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ SwiftUI —Å–ø–∏—Å–∫–∞—Ö
- ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç `Hashable` –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª–∏–Ω—ã `title` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ, –Ω–µ –≤ UI
- ‚úÖ `daysCount` ‚Äî computed property, –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏
- ‚úÖ `daysCount` –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–∏—Å–∫–ª—é—á—ë–Ω –∏–∑ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `CodingKeys`)
- ‚úÖ `daysCount` –≤—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ `startDate` –∏ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `Models/HabitCard.swift`

---

## üë§ –°—Ç–∞—Ç—É—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ª–∏–º–∏—Ç—ã

### UserStatus

Enum, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ª–∏–º–∏—Ç—ã.

**–°—Ç–∞—Ç—É—Å—ã:**
- `free` ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å, –º–∞–∫—Å–∏–º—É–º **3 –∫–∞—Ä—Ç–æ—á–∫–∏**
- `pro` ‚Äî –ø–ª–∞—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å, –º–∞–∫—Å–∏–º—É–º **6 –∫–∞—Ä—Ç–æ—á–µ–∫**

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –õ–∏–º–∏—Ç—ã —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ enum
- ‚úÖ –õ–µ–≥–∫–æ –∏–∑–º–µ–Ω—è–µ–º—ã –≤ –±—É–¥—É—â–µ–º
- ‚úÖ –ù–µ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –≤ UI
- ‚úÖ –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª `UserStatusProvider` –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π –∑–∞–º–µ–Ω—ã –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `Core/UserStatus.swift`

### UserStatusProvider

–ü—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å StoreKit.

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `DefaultUserStatusProvider` ‚Äî –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `free` —Å—Ç–∞—Ç—É—Å.

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `Core/UserStatusProvider.swift`

---

## üíæ –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### StorageService

–ü—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –¥–∞–Ω–Ω—ã—Ö. –ê–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

**–ú–µ—Ç–æ–¥—ã:**
- `saveCards(_ cards: [HabitCard]) throws` ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–∞—Å—Å–∏–≤ –∫–∞—Ä—Ç–æ—á–µ–∫
- `loadCards() throws -> [HabitCard]` ‚Äî –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏
- `clearAll() throws` ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `UserDefaultsStorageService`
- **–ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ:** `UserDefaults` —Å –∫–ª—é—á–æ–º `"com.dayswithout.habitcards"`
- –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `Codable` –∏ `JSONEncoder/JSONDecoder`
- –î–∞—Ç–∞ –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO8601

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –õ–æ–≥–∏–∫–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Å–µ—Ä–≤–∏—Å–µ
- ‚úÖ –õ–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `FileManager` –∏–ª–∏ Core Data –≤ –±—É–¥—É—â–µ–º
- ‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏

**–ö–∞–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–ª–Ω—É—é –æ—á–∏—Å—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

```swift
let storage = UserDefaultsStorageService()
try storage.clearAll()
```

–ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ `UserDefaults`:
```swift
UserDefaults.standard.removeObject(forKey: "com.dayswithout.habitcards")
```

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `Services/StorageService.swift`

---

## üîß –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### HabitService

–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –ø—Ä–∏–≤—ã—á–µ–∫. –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏.

**–ü—É–±–ª–∏—á–Ω—ã–π API:**

```swift
protocol HabitServiceProtocol {
    func getAll() -> [HabitCard]
    func create(card: HabitCard) throws
    func delete(id: UUID) throws
    func canCreateNewCard() -> Bool
}
```

**–ú–µ—Ç–æ–¥—ã:**

1. **`getAll() -> [HabitCard]`**
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∏–≤—ã—á–µ–∫
   - `daysCount` –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∫ computed property –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏

2. **`create(card: HabitCard) throws`**
   - –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é –∫–∞—Ä—Ç–æ—á–∫—É –ø—Ä–∏–≤—ã—á–∫–∏
   - –ï—Å–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∞ —Å —Ç–∞–∫–∏–º `id` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è
   - –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–ª–∏–Ω—É –Ω–∞–∑–≤–∞–Ω–∏—è (‚â§ 17 —Å–∏–º–≤–æ–ª–æ–≤)
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–∏–º–∏—Ç –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - `daysCount` –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∫ computed property –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
   - –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç `HabitServiceError` –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

3. **`delete(id: UUID) throws`**
   - –£–¥–∞–ª—è–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É
   - –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

4. **`canCreateNewCard() -> Bool`**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –º–æ–∂–Ω–æ –ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–∞—Ä—Ç–æ—á–∫—É
   - –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ª–∏–º–∏—Ç—ã
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º

**–û—à–∏–±–∫–∏:**

`HabitServiceError` ‚Äî enum —Å —Ç–∏–ø–∞–º–∏ –æ—à–∏–±–æ–∫:
- `limitExceeded` ‚Äî –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∫–∞—Ä—Ç–æ—á–µ–∫
- `titleTooLong` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ
- `cardNotFound` ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- `cardAlreadyExists` ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞ —Å —Ç–∞–∫–∏–º ID —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- `saveError` ‚Äî –æ—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- `loadError` ‚Äî –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç UI
- ‚úÖ `daysCount` ‚Äî computed property, –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ (–Ω–∞ –æ—Å–Ω–æ–≤–µ `startDate` –∏ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã)
- ‚úÖ `daysCount` –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –≤—Å–µ–≥–¥–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
- ‚úÖ –ú–µ—Ç–æ–¥ `create()` —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏, –ª–æ–≥–∏–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–µ—Ç
- ‚úÖ –ï—Å–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∞ —Å —Ç–∞–∫–∏–º ID —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è
- ‚úÖ –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°—Ç—Ä–æ–≥–æ–µ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ Free/Pro
- ‚úÖ –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ Dependency Injection —á–µ—Ä–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `Services/HabitService.swift`

---

## ‚è±Ô∏è –¢–∞–π–º–µ—Ä—ã

### TimerService

–°–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è 24-—á–∞—Å–æ–≤—ã–º–∏ —Ç–∞–π–º–µ—Ä–∞–º–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ –ø—Ä–∏–≤—ã—á–µ–∫. –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è 24-—á–∞—Å–æ–≤–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞. `daysCount` –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∫ computed property –≤ –º–æ–¥–µ–ª–∏.

**–ü—É–±–ª–∏—á–Ω—ã–π API:**

```swift
protocol TimerServiceProtocol {
    func restartTimer(for cardId: UUID) throws
    func getRemainingTime(for cardId: UUID) -> TimeInterval?
    func checkAndUpdateTimers() throws
    func timerUpdates(for cardId: UUID) -> AnyPublisher<TimeInterval, Never>
}
```

**–ú–µ—Ç–æ–¥—ã:**

1. **`restartTimer(for cardId: UUID) throws`**
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–∞–π–º–µ—Ä –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏
   - –ù–∞ —ç—Ç–∞–ø–µ 2 –Ω–µ—Ç –ª–æ–≥–∏–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫, —Ç–∞–π–º–µ—Ä –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–∞–π–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É

2. **`getRemainingTime(for cardId: UUID) -> TimeInterval?`**
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ 24-—á–∞—Å–æ–≤–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `nil`, –µ—Å–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
   - –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ `startDate` –∫–∞—Ä—Ç–æ—á–∫–∏ –∏ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã

3. **`checkAndUpdateTimers() throws`**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ —Ç–∞–π–º–µ—Ä—ã (daysCount –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∫ computed property)
   - –ú–µ—Ç–æ–¥ –æ—Å—Ç–∞–≤–ª–µ–Ω –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏, –Ω–æ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

4. **`timerUpdates(for cardId: UUID) -> AnyPublisher<TimeInterval, Never>`**
   - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞ (–¥–ª—è UI)
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –¢–∞–π–º–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ `daysCount` –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∫ computed property –≤ –º–æ–¥–µ–ª–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏
- ‚úÖ –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç NotificationCenter –∏–ª–∏ UIKit-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –æ—Ç UI
- ‚úÖ –ù–∞ —ç—Ç–∞–ø–µ 2 –Ω–µ—Ç –ª–æ–≥–∏–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `Services/TimerService.swift`

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –±–µ–∑ UI

–ù–∞ —ç—Ç–∞–ø–µ 2 UI –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –ø–æ—ç—Ç–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏–ª–∏ unit-—Ç–µ—Å—Ç—ã.

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `ExampleUsage.swift` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –±–µ–∑ UI.

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `Core/ExampleUsage.swift`

**–í–∞–∂–Ω–æ:** –≠—Ç–æ—Ç —Ñ–∞–π–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏** –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏. –û–Ω:
- ‚ùå –ù–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ App lifecycle
- ‚ùå –ù–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Ä–∞–±–æ—Ç–µ UI
- ‚úÖ –°–æ–∑–¥–∞–Ω –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ API

**–ü—Ä–∏–º–µ—Ä—ã –≤–∫–ª—é—á–∞—é—Ç:**
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∏–≤—ã—á–∫–∏
- –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–µ–∫
- –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏
- –ü—Ä–æ–≤–µ—Ä–∫—É –ª–∏–º–∏—Ç–∞ –∫–∞—Ä—Ç–æ—á–µ–∫
- –í–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–∏–≤—ã—á–∫–∏
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞

### –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Xcode Playground

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Playground –≤ Xcode
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–æ–¥—É–ª–∏
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª–∞—Å—Å `ExampleUsage`:

```swift
import Foundation

let example = ExampleUsage()
example.runAllExamples()
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Unit-—Ç–µ—Å—Ç—ã

1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π target –≤ Xcode (File ‚Üí New ‚Üí Target ‚Üí Unit Testing Bundle)
2. –ù–∞–ø–∏—à–∏—Ç–µ unit-—Ç–µ—Å—Ç—ã –¥–ª—è `HabitService`:

```swift
import XCTest
@testable import DaysWithout

final class HabitServiceTests: XCTestCase {
    func testCreateCard() {
        let storage = UserDefaultsStorageService()
        let statusProvider = DefaultUserStatusProvider()
        let service = HabitService(
            storageService: storage,
            userStatusProvider: statusProvider
        )
        
        let card = HabitCard(
            title: "–ö—É—Ä–µ–Ω–∏–µ",
            startDate: Date(),
            colorID: 1
        )
        
        XCTAssertNoThrow(try service.create(card: card))
        XCTAssertEqual(service.getAll().count, 1)
    }
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ù–∞ —ç—Ç–∞–ø–µ 2 –Ω–µ—Ç App.swift, —Ç–∞–∫ –∫–∞–∫ UI –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã 1 –∏–ª–∏ 2 –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

1. **–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏:**
   - ‚úÖ –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É —Å –≤–∞–ª–∏–¥–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º
   - ‚úÖ –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º > 17 —Å–∏–º–≤–æ–ª–æ–≤ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞)
   - ‚úÖ –°–æ–∑–¥–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–ª—è Free (3)
   - ‚úÖ –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å 4-—é –∫–∞—Ä—Ç–æ—á–∫—É –ø—Ä–∏ Free —Å—Ç–∞—Ç—É—Å–µ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞)

2. **–£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏:**
   - ‚úÖ –£–¥–∞–ª–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–∞—Ä—Ç–æ—á–∫—É
   - ‚úÖ –ü–æ–ø—ã—Ç–∫–∞ —É–¥–∞–ª–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–∞—Ä—Ç–æ—á–∫—É (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞)

3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
   - ‚úÖ –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏, –∑–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –æ—Ç–∫—Ä—ã—Ç—å —Å–Ω–æ–≤–∞ ‚Äî –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è
   - ‚úÖ `daysCount` –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ (computed property)

4. **–õ–∏–º–∏—Ç—ã:**
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `canCreateNewCard()` –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞—Ö –∫–∞—Ä—Ç–æ—á–µ–∫
   - ‚úÖ –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ª–∏–º–∏—Ç—ã —Å–æ–±–ª—é–¥–∞—é—Ç—Å—è —Å—Ç—Ä–æ–≥–æ

### –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–î–ª—è –ø–æ–ª–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `StorageService`:

```swift
let storage = UserDefaultsStorageService()
try? storage.clearAll()
```

---

## üìã –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ —ç—Ç–∞–ø–∞ 2

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

- ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ —É–¥–∞–ª—è—é—Ç—Å—è
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –õ–∏–º–∏—Ç—ã Free / Pro —Å–æ–±–ª—é–¥–∞—é—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –ø–æ –¢–ó
- ‚úÖ –í –ø—Ä–æ–µ–∫—Ç–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç UI-–∫–æ–¥ (—Ç–æ–ª—å–∫–æ –∑–∞–≥–ª—É—à–∫–∏)
- ‚úÖ –í—Å—è –ª–æ–≥–∏–∫–∞ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –î—Ä—É–≥–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ—è—Å–Ω–µ–Ω–∏–π

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ —ç—Ç–∞–ø–∞ 2

```
DaysWithout/
‚îú‚îÄ‚îÄ Models/
‚îÇ   ‚îî‚îÄ‚îÄ HabitCard.swift              # –ú–æ–¥–µ–ª—å –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∏–≤—ã—á–∫–∏
‚îú‚îÄ‚îÄ Core/
‚îÇ   ‚îú‚îÄ‚îÄ UserStatus.swift             # Enum —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ UserStatusProvider.swift     # –ü—Ä–æ—Ç–æ–∫–æ–ª –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —Å—Ç–∞—Ç—É—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ TimerConstants.swift         # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è —Ç–∞–π–º–µ—Ä–∞ (secondsInDay)
‚îÇ   ‚îî‚îÄ‚îÄ ExampleUsage.swift           # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏
‚îî‚îÄ‚îÄ Services/
    ‚îú‚îÄ‚îÄ StorageService.swift         # –ü—Ä–æ—Ç–æ–∫–æ–ª –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
    ‚îú‚îÄ‚îÄ HabitService.swift           # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
    ‚îî‚îÄ‚îÄ TimerService.swift           # –°–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞–º–∏
```

---

## üì± –≠—Ç–∞–ø 3: Main —ç–∫—Ä–∞–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–¶–µ–ª—å —ç—Ç–∞–ø–∞:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Main —ç–∫—Ä–∞–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ SwiftUI –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∏–∑–∞–π–Ω–∞ –∏–∑ Figma.

**–†–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–∞–ø–∞:**
- ‚úÖ –û–¥–∏–Ω –æ—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω (–±–µ–∑ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ–ª–∏—Å—Ç—ã–≤–∞–Ω–∏–π)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –ø—Ä–∏–≤—ã—á–µ–∫
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –≤–∏–∑—É–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ª–∏–º–∏—Ç–æ–≤ Free / Pro
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–∏–∑–∞–π–Ω—É Figma
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∏ –∫–Ω–æ–ø–æ–∫

### ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ —ç—Ç–∞–ø–µ 3

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Main —ç–∫—Ä–∞–Ω–∞

**MainView** (`UI/Screens/MainView.swift`)
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ "–ü—Ä–∏–≤—ã—á–∫–∏"
- –°–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–æ—á–µ–∫ –≤ —Å–µ—Ç–∫–µ 2 –∫–æ–ª–æ–Ω–∫–∏
- –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∫–∞—Ä—Ç–æ—á–µ–∫
- –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å" (—É—Å–ª–æ–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ)

**MainViewModel** (`ViewModels/MainViewModel.swift`)
- –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –∏–∑ `HabitService`
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ `UserStatusProvider`
- –í—ã—á–∏—Å–ª–µ–Ω–∏–µ `maxCardsLimit` –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ —á–µ—Ä–µ–∑ `displayableCards` (—Å —É—á–µ—Ç–æ–º –ª–∏–º–∏—Ç–∞)
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∫–Ω–æ–ø–∫–∏ —á–µ—Ä–µ–∑ `shouldShowAddButton`
- **–†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:** –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ `HabitService.cardsPublisher` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –∫–∞—Ä—Ç–æ—á–µ–∫
- **–í–∞–∂–Ω–æ:** UI –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏, –≤—Å—è –ª–æ–≥–∏–∫–∞ –≤ ViewModel
- **–í–∞–∂–Ω–æ:** –õ–∏–º–∏—Ç—ã –Ω–µ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã, –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ `UserStatus.maxCardsLimit`

**HabitCardViewModel** (`ViewModels/HabitCardViewModel.swift`)
- –°–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É —Ç–∞–π–º–µ—Ä–∞ –∏ —Ä–∞—Å—á–µ—Ç–æ–≤ –≤—Ä–µ–º–µ–Ω–∏
- –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ `TimerService.getRemainingTime(for:)`
- –í—ã—á–∏—Å–ª—è–µ—Ç `progressValue` –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-—Ä–∏–Ω–≥–∞
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç `remainingTime` –∏ `progressValue` –∫–∞–∫ `@Published` —Å–≤–æ–π—Å—Ç–≤–∞
- **–í–∞–∂–Ω–æ:** –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ç–∞–π–º–µ—Ä–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç UI

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**HabitCardView** (`UI/Components/HabitCardView.swift`)
- –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω (—Ü–≤–µ—Ç–∞ –ø–æ `colorID` –∏–∑ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ `Theme.cardColor(for:)`)
- –†–∞–¥–∏—É—Å —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è –∏–∑ Theme (`cardCornerRadius`)
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã –∏–∑ Theme
- –ü—Ä–æ–≥—Ä–µ—Å—Å-—Ä–∏–Ω–≥ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–Ω–µ–π
- –¢–∞–π–º–µ—Ä –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è –≤—Ä–µ–º–µ–Ω–∏ –¥–æ 24 —á–∞—Å–æ–≤ (—Ñ–æ—Ä–º–∞—Ç HH:MM)
- –¢–µ–Ω—å –∫–∞—Ä—Ç–æ—á–∫–∏ (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ Theme)
- –ú–∏–∫—Ä–æ-–∞–Ω–∏–º–∞—Ü–∏—è –Ω–∞–∂–∞—Ç–∏—è (scale + opacity, 180–º—Å, easeOut)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `.onTapGesture` (–Ω–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∫–Ω–æ–ø–∫–∞ SwiftUI)
- **–í–∞–∂–Ω–æ:** –í—Å—è –ª–æ–≥–∏–∫–∞ —Ç–∞–π–º–µ—Ä–∞ –∏ —Ä–∞—Å—á–µ—Ç–æ–≤ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `HabitCardViewModel`, UI –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

**AddHabitButtonView** (`UI/Components/AddHabitButtonView.swift`)
- –ö—Ä—É–≥–ª–∞—è –∫–Ω–æ–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π "+"
- –£—Å–ª–æ–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `viewModel.shouldShowAddButton`
- –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: –ø—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç safe area —Å–Ω–∏–∑—É
- –í–Ω–µ—à–Ω—è—è –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ç–µ–Ω–∏ (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ Theme)
- –ú–∏–∫—Ä–æ-–∞–Ω–∏–º–∞—Ü–∏—è –Ω–∞–∂–∞—Ç–∏—è (scale + opacity, 180–º—Å, —á–µ—Ä–µ–∑ `withAnimation`)
- –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è disabled-—Å–æ—Å—Ç–æ—è–Ω–∏–µ)

#### –¢–µ–º–∞ –∏ —Ü–≤–µ—Ç–∞

**Theme** (`Core/Theme.swift`)
- –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –≤—Å–µ—Ö —Ü–≤–µ—Ç–æ–≤ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –¶–≤–µ—Ç–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –ø–æ `colorID` (6 —Ü–≤–µ—Ç–æ–≤: –∑–µ–ª–µ–Ω—ã–π, —Å–∏–Ω–∏–π, —Ä–æ–∑–æ–≤—ã–π, —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π, –æ—Ä–∞–Ω–∂–µ–≤—ã–π, –∫—Ä–∞—Å–Ω—ã–π)
- –û—Ç—Å—Ç—É–ø—ã, —Ä–∞–¥–∏—É—Å—ã —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è, —Ä–∞–∑–º–µ—Ä—ã (–ø–æ Figma)
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–π (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ç–∏–ø)

**–ò—Å—Ç–æ—á–Ω–∏–∫ –ª–∏–º–∏—Ç–æ–≤:**
- –õ–∏–º–∏—Ç—ã **–Ω–µ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã** –≤ UI
- –ü–æ–ª—É—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `UserStatusProvider` ‚Üí `UserStatus.maxCardsLimit`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏—è —á–µ—Ä–µ–∑ `HabitService.canCreateNewCard()`

#### –ê–Ω–∏–º–∞—Ü–∏–∏

- **–¢–æ–ª—å–∫–æ –º–∏–∫—Ä–æ-–∞–Ω–∏–º–∞—Ü–∏–∏ –Ω–∞–∂–∞—Ç–∏—è:**
  - Scale: 1.0 ‚Üí 0.95 (–∫–∞—Ä—Ç–æ—á–∫–∏), 1.0 ‚Üí 0.9 (–∫–Ω–æ–ø–∫–∞)
  - Opacity: 1.0 ‚Üí 0.8
  - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 180–º—Å (–ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª: –Ω–∞–∂–∞—Ç–∏–µ + –≤–æ–∑–≤—Ä–∞—Ç, –∫–∞–∂–¥–∞—è —Ñ–∞–∑–∞ 90–º—Å)
  - –¢–∏–ø: `easeOut`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `withAnimation`, –∞ –Ω–µ `.animation()` –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¢–ó)
- **–ó–∞–ø—Ä–µ—â–µ–Ω–æ:**
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è
  - Drag-–∞–Ω–∏–º–∞—Ü–∏–∏
  - Transition-–∞–Ω–∏–º–∞—Ü–∏–∏ –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏

### üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Main —ç–∫—Ä–∞–Ω–∞

```
MainView
‚îú‚îÄ‚îÄ Header ("–ü—Ä–∏–≤—ã—á–∫–∏")
‚îÇ   ‚îú‚îÄ‚îÄ –ó–∞–≥–æ–ª–æ–≤–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
‚îú‚îÄ‚îÄ Content
‚îÇ   ‚îú‚îÄ‚îÄ Empty State (–µ—Å–ª–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ –Ω–µ—Ç)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ "–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –ø—Ä–∏–≤—ã—á–∫—É"
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ "–ú–∞–ª–µ–Ω—å–∫–∏–π —à–∞–≥ –∫ –±–æ–ª—å—à–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è–º"
‚îÇ   ‚îî‚îÄ‚îÄ Cards Grid (ScrollView)
‚îÇ       ‚îî‚îÄ‚îÄ LazyVGrid (2 –∫–æ–ª–æ–Ω–∫–∏)
‚îÇ           ‚îî‚îÄ‚îÄ HabitCardView (–º–∞–∫—Å–∏–º—É–º –ø–æ –ª–∏–º–∏—Ç—É —Å—Ç–∞—Ç—É—Å–∞)
‚îî‚îÄ‚îÄ AddHabitButtonView (—É—Å–ª–æ–≤–Ω–æ, –µ—Å–ª–∏ shouldShowAddButton)
    ‚îî‚îÄ‚îÄ –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: –ø—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç safe area
```

### üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–æ–≤ –∏ —Ç–µ–º—ã

–í—Å–µ —Ü–≤–µ—Ç–∞ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ **`Core/Theme.swift`**:

**–¶–≤–µ—Ç–∞:**
- `cardColor(for:)` ‚Äî —Ü–≤–µ—Ç–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –ø–æ `colorID` (6 —Ü–≤–µ—Ç–æ–≤)
- `addButtonColor` ‚Äî —Ü–≤–µ—Ç –∫–Ω–æ–ø–∫–∏ "–î–æ–±–∞–≤–∏—Ç—å"
- `cardTextColor`, `cardTextHeaderColor` ‚Äî —Ü–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö
- `mainHeadingColor`, `mainDescriptionColor` ‚Äî —Ü–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞ –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
- `backgroundColor` ‚Äî –≥—Ä–∞–¥–∏–µ–Ω—Ç —Ñ–æ–Ω–∞ —ç–∫—Ä–∞–Ω–∞
- `DeviderColor` ‚Äî —Ü–≤–µ—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è

**–û—Ç—Å—Ç—É–ø—ã:**
- `screenPadding` ‚Äî –æ—Ç—Å—Ç—É–ø –æ—Ç –∫—Ä–∞–µ–≤ —ç–∫—Ä–∞–Ω–∞
- `buttonPadding` ‚Äî –æ—Ç—Å—Ç—É–ø –∫–Ω–æ–ø–∫–∏ –æ—Ç –∫—Ä–∞–µ–≤ —ç–∫—Ä–∞–Ω–∞
- `headerTopPadding`, `headerBottomPadding` ‚Äî –æ—Ç—Å—Ç—É–ø—ã –∑–∞–≥–æ–ª–æ–≤–∫–∞
- `gridColumnSpacing`, `gridRowSpacing` ‚Äî –æ—Ç—Å—Ç—É–ø—ã –≤ grid –∫–∞—Ä—Ç–æ—á–µ–∫
- `cardContentTopPadding`, `cardContentBottomPadding` ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã –∫–∞—Ä—Ç–æ—á–∫–∏

**–†–∞–∑–º–µ—Ä—ã:**
- `cardCornerRadius` ‚Äî —Ä–∞–¥–∏—É—Å —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏
- `addButtonSize` ‚Äî —Ä–∞–∑–º–µ—Ä –∫–Ω–æ–ø–∫–∏ "–î–æ–±–∞–≤–∏—Ç—å"
- `progressRingSize` ‚Äî —Ä–∞–∑–º–µ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å-—Ä–∏–Ω–≥–∞
- `cardHeight` ‚Äî –≤—ã—Å–æ—Ç–∞ –∫–∞—Ä—Ç–æ—á–∫–∏

**–¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞:**
- `headingFontName`, `cardFontName` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏—è —à—Ä–∏—Ñ—Ç–æ–≤
- –†–∞–∑–º–µ—Ä—ã —à—Ä–∏—Ñ—Ç–æ–≤ –¥–ª—è –≤—Å–µ—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**–ê–Ω–∏–º–∞—Ü–∏–∏:**
- `pressAnimationDuration` ‚Äî –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –Ω–∞–∂–∞—Ç–∏—è (150–º—Å)
- `pressAnimationType` ‚Äî —Ç–∏–ø –∞–Ω–∏–º–∞—Ü–∏–∏ (`easeOut`)
- `cardPressScale`, `buttonPressScale` ‚Äî –º–∞—Å—à—Ç–∞–± –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
- `cardPressOpacity`, `buttonPressOpacity` ‚Äî –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏

**–¢–µ–Ω–∏:**
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ–Ω–µ–π –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∏ –∫–Ω–æ–ø–∫–∏ (—Ü–≤–µ—Ç, —Ä–∞–¥–∏—É—Å, —Å–º–µ—â–µ–Ω–∏–µ)

**–í–∞–∂–Ω–æ:** –í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¥–∏–∑–∞–π–Ω—É Figma. –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ Theme, –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ UI –Ω–µ—Ç.

### üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–ª—è –ø—Ä–∏—ë–º–∫–∏

–î–ª—è –ø—Ä–∏—ë–º–∫–∏ —ç—Ç–∞–ø–∞ 3 –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã:

1. **Free –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (1-3 –∫–∞—Ä—Ç–æ—á–∫–∏)**
   - –°–∫—Ä–∏–Ω—à–æ—Ç —Å 1-3 –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
   - –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å" –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–Ω–∞
   - –ü—Ä–∏ 3 –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –∫–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å" –¥–æ–ª–∂–Ω–∞ –∏—Å—á–µ–∑–Ω—É—Ç—å

2. **Pro –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (4-6 –∫–∞—Ä—Ç–æ—á–µ–∫)**
   - –°–∫—Ä–∏–Ω—à–æ—Ç —Å 4-6 –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
   - –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å" –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–Ω–∞ –ø—Ä–∏ < 6 –∫–∞—Ä—Ç–æ—á–µ–∫
   - –ü—Ä–∏ 6 –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –∫–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å" –¥–æ–ª–∂–Ω–∞ –∏—Å—á–µ–∑–Ω—É—Ç—å

3. **–ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**
   - –°–∫—Ä–∏–Ω—à–æ—Ç –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∫–∞—Ä—Ç–æ—á–µ–∫
   - –¢–µ–∫—Å—Ç "–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –ø—Ä–∏–≤—ã—á–∫—É"
   - –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å" –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–Ω–∞

**–í–∞–∂–Ω–æ:** –í—Å–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–¥–µ–ª–∞–Ω—ã –Ω–∞ –æ–¥–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ (iPhone 14, iOS 16.0) —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å Figma.

### üîÑ –°–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã

–ù–∞ —Å–ª–µ–¥—É—é—â–∏—Ö —ç—Ç–∞–ø–∞—Ö –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
- Drag & drop –¥–ª—è –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫
- –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
- –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è (StoreKit)

**–í–∞–∂–Ω–æ:** –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≥–æ—Ç–æ–≤–∞ –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π. UI –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –æ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.

---
