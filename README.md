# –î–Ω–∏ –±–µ–∑: –æ—Ç–∫–∞–∑ –æ—Ç –≤—Ä–µ–¥–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–Ω–µ–π –±–µ–∑ –≤—Ä–µ–¥–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫. –ü–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –ø—É—Ç—å –∫ –∑–¥–æ—Ä–æ–≤–æ–º—É –æ–±—Ä–∞–∑—É –∂–∏–∑–Ω–∏.

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ **MVVM (Model-View-ViewModel)** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **SwiftUI**.

### –ü–æ—á–µ–º—É MVVM?

- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** ‚Äî –ª–æ–≥–∏–∫–∞ –æ—Ç–¥–µ–ª–µ–Ω–∞ –æ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî ViewModel –ª–µ–≥–∫–æ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç—Å—è unit-—Ç–µ—Å—Ç–∞–º–∏
- **–†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** ‚Äî –Ω–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —á–µ—Ä–µ–∑ `@Observable` / `ObservableObject`
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî —É–¥–æ–±–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ–∏—á–∏

### –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    View     ‚îÇ ‚Üê‚îÄ‚îÄ‚Üí ‚îÇ  ViewModel   ‚îÇ ‚Üê‚îÄ‚îÄ‚Üí ‚îÇ   Service   ‚îÇ
‚îÇ  (SwiftUI)  ‚îÇ      ‚îÇ (Observable) ‚îÇ      ‚îÇ   (Data)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì
                     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                     ‚îÇ    Model    ‚îÇ
                     ‚îÇ  (Struct)   ‚îÇ
                     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
–î–Ω–∏ –±–µ–∑/
‚îú‚îÄ‚îÄ App/                    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ Core/                   # –ë–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ Models/                 # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ
‚îú‚îÄ‚îÄ ViewModels/             # ViewModel'—ã (–ª–æ–≥–∏–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è)
‚îÇ
‚îú‚îÄ‚îÄ Services/               # –°–µ—Ä–≤–∏—Å—ã (—Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏, API, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
‚îÇ
‚îú‚îÄ‚îÄ UI/                     # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (SwiftUI Views)
‚îÇ
‚îú‚îÄ‚îÄ Purchases/              # In-App Purchases
‚îÇ
‚îî‚îÄ‚îÄ Assets.xcassets/        # –†–µ—Å—É—Ä—Å—ã (–∏–∫–æ–Ω–∫–∏, —Ü–≤–µ—Ç–∞, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
```

### –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞–ø–æ–∫

| –ü–∞–ø–∫–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------|------------|
| `App/` | –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (`@main`), –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| `Core/` | –†–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ç–∏–ø–æ–≤, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –ø—Ä–æ—Ç–æ–∫–æ–ª—ã, —Ö–µ–ª–ø–µ—Ä—ã |
| `Models/` | –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (Habit, Category –∏ —Ç.–¥.) |
| `ViewModels/` | –ö–ª–∞—Å—Å—ã —Å `@Observable` –¥–ª—è –ª–æ–≥–∏–∫–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è |
| `Services/` | –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞: —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ |
| `UI/` | SwiftUI View: —ç–∫—Ä–∞–Ω—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã |
| `Purchases/` | –õ–æ–≥–∏–∫–∞ –ø–æ–∫—É–ø–æ–∫ –∏ –ø–æ–¥–ø–∏—Å–æ–∫ (StoreKit) |

---

## üìê –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —Å–ª–æ—ë–≤

### View (UI/)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ ViewModel
- –ü–µ—Ä–µ–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ ViewModel
- –°–æ–¥–µ—Ä–∂–∏—Ç –¢–û–õ–¨–ö–û –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—É—é —Ä–∞–∑–º–µ—Ç–∫—É SwiftUI

**–ß—Ç–æ –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–æ View:**
- ‚ùå –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (—Ä–∞—Å—á—ë—Ç—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—è, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç)
- ‚ùå –ü—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚ùå –†–∞–±–æ—Ç–∞ —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –°–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- ‚ùå –°–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ `body`

---

### ViewModel (ViewModels/)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –•—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞ (`@Observable` / `ObservableObject`)
- –°–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (presentation logic)
- –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –í—ã–∑—ã–≤–∞–µ—Ç —Å–µ—Ä–≤–∏—Å—ã –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥

**–ß—Ç–æ –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–æ ViewModel:**
- ‚ùå UI-–∫–æ–¥ (SwiftUI Views, UIKit)
- ‚ùå –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å—ã)
- ‚ùå –°–æ–∑–¥–∞–Ω–∏–µ –¥—Ä—É–≥–∏—Ö ViewModel'–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ DI)

---

### Core

**–ß—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç:**
- **Extensions** ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ (`Date+Extensions.swift`, `String+Extensions.swift`)
- **Constants** ‚Äî –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`AppConstants.swift`)
- **Protocols** ‚Äî –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã (`Identifiable`, –∫–∞—Å—Ç–æ–º–Ω—ã–µ)
- **Helpers** ‚Äî —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **Modifiers** ‚Äî –∫–∞—Å—Ç–æ–º–Ω—ã–µ ViewModifier'—ã

**–ü—Ä–∞–≤–∏–ª–∞ Core:**
- ‚úÖ –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º
- ‚úÖ –ë–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ–∏—á
- ‚úÖ –ë–µ–∑ —Å–∞–π–¥-—ç—Ñ—Ñ–µ–∫—Ç–æ–≤ (—á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
- ‚ùå –ù–µ –¥–æ–ª–∂–µ–Ω –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å Models, ViewModels, Services

---

### Models

**–ß—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç:**
- –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (`struct`)
- Enum'—ã –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- –ü—Ä–æ—Ç–æ–∫–æ–ª—ã –º–æ–¥–µ–ª–µ–π

**–ü—Ä–∞–≤–∏–ª–∞ Models:**
- ‚úÖ –¢–æ–ª—å–∫–æ `struct` (value types) ‚Äî –Ω–µ –∫–ª–∞—Å—Å—ã
- ‚úÖ –î–æ–ª–∂–Ω—ã –±—ã—Ç—å `Codable` –µ—Å–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- ‚úÖ –î–æ–ª–∂–Ω—ã –±—ã—Ç—å `Identifiable` –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Å–ø–∏—Å–∫–∞—Ö
- ‚úÖ –î–æ–ª–∂–Ω—ã –±—ã—Ç—å `Hashable`/`Equatable` –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- ‚ùå –ë–µ–∑ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (—Ç–æ–ª—å–∫–æ computed properties –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)

---

### Services

**–ß—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç:**
- –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ (CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏)
- –°–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ API

**–ü—Ä–∞–≤–∏–ª–∞ Services:**
- ‚úÖ –í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª (`HabitServiceProtocol`)
- ‚úÖ Dependency Injection —á–µ—Ä–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä
- ‚úÖ –û–¥–∏–Ω —Å–µ—Ä–≤–∏—Å = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- ‚ùå –ë–µ–∑ UI-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚ùå –ë–µ–∑ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∏–∑ View

---

## üë®‚Äçüíª –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —ç–∫—Ä–∞–Ω

1. **–°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª—å** (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞) –≤ `Models/`
   ```
   Models/NewFeature.swift
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ ViewModel** –≤ `ViewModels/`
   ```
   ViewModels/NewFeatureViewModel.swift
   ```

3. **–°–æ–∑–¥–∞–π—Ç–µ View** –≤ `UI/`
   ```
   UI/Screens/NewFeatureScreen.swift
   UI/Components/NewFeatureCard.swift  // –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
   ```

4. **–°–æ–∑–¥–∞–π—Ç–µ/–æ–±–Ω–æ–≤–∏—Ç–µ Service** (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏)
   ```
   Services/NewFeatureService.swift
   ```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏ UI/

```
UI/
‚îú‚îÄ‚îÄ Screens/           # –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ HomeScreen.swift
‚îÇ   ‚îú‚îÄ‚îÄ AddHabitScreen.swift
‚îÇ   ‚îî‚îÄ‚îÄ SettingsScreen.swift
‚îÇ
‚îú‚îÄ‚îÄ Components/        # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ HabitCard.swift
‚îÇ   ‚îú‚îÄ‚îÄ ProgressRing.swift
‚îÇ   ‚îî‚îÄ‚îÄ CategoryPicker.swift
‚îÇ
‚îî‚îÄ‚îÄ Modifiers/         # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã (–∏–ª–∏ –≤ Core/)
    ‚îî‚îÄ‚îÄ CardStyle.swift
```

### Naming Conventions

| –¢–∏–ø | –ü–∞—Ç—Ç–µ—Ä–Ω | –ü—Ä–∏–º–µ—Ä |
|-----|---------|--------|
| –≠–∫—Ä–∞–Ω (View) | `*Screen` | `HomeScreen`, `AddHabitScreen` |
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û–ø–∏—Å–∞—Ç–µ–ª—å–Ω–æ–µ –∏–º—è | `HabitCard`, `ProgressRing` |
| ViewModel | `*ViewModel` | `HomeViewModel`, `HabitCardViewModel` |
| Service | `*Service` | `HabitService`, `NotificationService` |
| Protocol | `*Protocol` | `HabitServiceProtocol` |
| Extension | `Type+Feature` | `Date+Formatting`, `Color+Theme` |

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **macOS** 14.0 (Sonoma) –∏–ª–∏ –Ω–æ–≤–µ–µ
- **Xcode** 15.0 –∏–ª–∏ –Ω–æ–≤–µ–µ
- **iOS** 16.0+

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Xcode**
   ```bash
   open "–î–Ω–∏ –±–µ–∑.xcodeproj"
   ```

2. **–í—ã–±–µ—Ä–∏—Ç–µ —Å–∏–º—É–ª—è—Ç–æ—Ä** –≤ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏ Xcode (–Ω–∞–ø—Ä–∏–º–µ—Ä, iPhone 14)

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** ‚Äî `Cmd + R`

### –ó–∞–ø—É—Å–∫ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ iPhone –∫ Mac
2. –í Xcode: `Signing & Capabilities` ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
3. –ù–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ: `–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –û—Å–Ω–æ–≤–Ω—ã–µ ‚Üí VPN –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º` ‚Üí –¥–æ–≤–µ—Ä—å—Ç–µ—Å—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

---

## üìä –≠—Ç–∞–ø 2: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ UI. –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö —ç—Ç–∞–ø–∞—Ö.

---

## üì¶ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### HabitCard

–û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∏–≤—ã—á–∫–∏.

**–ü–æ–ª—è:**
- `id: UUID` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏
- `title: String` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ (–º–∞–∫—Å–∏–º—É–º 17 —Å–∏–º–≤–æ–ª–æ–≤)
- `startDate: Date` ‚Äî –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- `daysCount: Int` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –±–µ–∑ –ø—Ä–∏–≤—ã—á–∫–∏ (–≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- `colorID: Int` ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ü–≤–µ—Ç–∞ –∫–∞—Ä—Ç–æ—á–∫–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç `Codable` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç `Identifiable` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ SwiftUI —Å–ø–∏—Å–∫–∞—Ö
- ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç `Hashable` –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª–∏–Ω—ã `title` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ, –Ω–µ –≤ UI
- ‚úÖ `daysCount` –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ `startDate` –∏ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã
- ‚úÖ `daysCount` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `TimerService` –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ 24 —á–∞—Å–æ–≤

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `Models/HabitCard.swift`

---

## üë§ –°—Ç–∞—Ç—É—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ª–∏–º–∏—Ç—ã

### UserStatus

Enum, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ª–∏–º–∏—Ç—ã.

**–°—Ç–∞—Ç—É—Å—ã:**
- `free` ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å, –º–∞–∫—Å–∏–º—É–º **3 –∫–∞—Ä—Ç–æ—á–∫–∏**
- `pro` ‚Äî –ø–ª–∞—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å, –º–∞–∫—Å–∏–º—É–º **6 –∫–∞—Ä—Ç–æ—á–µ–∫**

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –õ–∏–º–∏—Ç—ã —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ enum
- ‚úÖ –õ–µ–≥–∫–æ –∏–∑–º–µ–Ω—è–µ–º—ã –≤ –±—É–¥—É—â–µ–º
- ‚úÖ –ù–µ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –≤ UI
- ‚úÖ –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª `UserStatusProvider` –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π –∑–∞–º–µ–Ω—ã –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `Core/UserStatus.swift`

### UserStatusProvider

–ü—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å StoreKit.

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `DefaultUserStatusProvider` ‚Äî –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `free` —Å—Ç–∞—Ç—É—Å.

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `Core/UserStatusProvider.swift`

---

## üíæ –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### StorageService

–ü—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –¥–∞–Ω–Ω—ã—Ö. –ê–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

**–ú–µ—Ç–æ–¥—ã:**
- `saveCards(_ cards: [HabitCard]) throws` ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–∞—Å—Å–∏–≤ –∫–∞—Ä—Ç–æ—á–µ–∫
- `loadCards() throws -> [HabitCard]` ‚Äî –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏
- `clearAll() throws` ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `UserDefaultsStorageService`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `UserDefaults` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è
- –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `Codable` –∏ `JSONEncoder/JSONDecoder`
- –î–∞—Ç–∞ –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO8601

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –õ–æ–≥–∏–∫–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Å–µ—Ä–≤–∏—Å–µ
- ‚úÖ –õ–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `FileManager` –∏–ª–∏ Core Data –≤ –±—É–¥—É—â–µ–º
- ‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `Services/StorageService.swift`

---

## üîß –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### HabitService

–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –ø—Ä–∏–≤—ã—á–µ–∫. –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏.

**–ü—É–±–ª–∏—á–Ω—ã–π API:**

```swift
protocol HabitServiceProtocol {
    func getAll() -> [HabitCard]
    func create(card: HabitCard) throws
    func delete(id: UUID) throws
    func canCreateNewCard() -> Bool
    func update(card: HabitCard) throws
}
```

**–ú–µ—Ç–æ–¥—ã:**

1. **`getAll() -> [HabitCard]`**
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∏–≤—ã—á–µ–∫
   - `daysCount` –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

2. **`create(card: HabitCard) throws`**
   - –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é –∫–∞—Ä—Ç–æ—á–∫—É –ø—Ä–∏–≤—ã—á–∫–∏
   - –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–ª–∏–Ω—É –Ω–∞–∑–≤–∞–Ω–∏—è (‚â§ 17 —Å–∏–º–≤–æ–ª–æ–≤)
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–∏–º–∏—Ç –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç `daysCount` –Ω–∞ –æ—Å–Ω–æ–≤–µ `startDate`
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
   - –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç `HabitServiceError` –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

3. **`delete(id: UUID) throws`**
   - –£–¥–∞–ª—è–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É
   - –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

4. **`canCreateNewCard() -> Bool`**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –º–æ–∂–Ω–æ –ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–∞—Ä—Ç–æ—á–∫—É
   - –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ª–∏–º–∏—Ç—ã
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º

5. **`update(card: HabitCard) throws`**
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–∞—Ä—Ç–æ—á–∫—É –ø—Ä–∏–≤—ã—á–∫–∏
   - –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–ª–∏–Ω—É –Ω–∞–∑–≤–∞–Ω–∏—è (‚â§ 17 —Å–∏–º–≤–æ–ª–æ–≤)
   - –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

**–û—à–∏–±–∫–∏:**

`HabitServiceError` ‚Äî enum —Å —Ç–∏–ø–∞–º–∏ –æ—à–∏–±–æ–∫:
- `limitExceeded` ‚Äî –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∫–∞—Ä—Ç–æ—á–µ–∫
- `titleTooLong` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ
- `cardNotFound` ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- `saveError` ‚Äî –æ—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- `loadError` ‚Äî –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç UI
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ `daysCount` –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞ –æ—Å–Ω–æ–≤–µ `startDate` –∏ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã)
- ‚úÖ –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏ `daysCount` –≤—Å–µ–≥–¥–∞ —Ä–∞–≤–µ–Ω 0
- ‚úÖ –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°—Ç—Ä–æ–≥–æ–µ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ Free/Pro
- ‚úÖ –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ Dependency Injection —á–µ—Ä–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `Services/HabitService.swift`

---

## ‚è±Ô∏è –¢–∞–π–º–µ—Ä—ã

### TimerService

–°–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è 24-—á–∞—Å–æ–≤—ã–º–∏ —Ç–∞–π–º–µ—Ä–∞–º–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ –ø—Ä–∏–≤—ã—á–µ–∫. –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç `daysCount` –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ 24 —á–∞—Å–æ–≤.

**–ü—É–±–ª–∏—á–Ω—ã–π API:**

```swift
protocol TimerServiceProtocol {
    func restartTimer(for cardId: UUID) throws
    func getRemainingTime(for cardId: UUID) -> TimeInterval?
    func checkAndUpdateTimers() throws
    func timerUpdates(for cardId: UUID) -> AnyPublisher<TimeInterval, Never>
}
```

**–ú–µ—Ç–æ–¥—ã:**

1. **`restartTimer(for cardId: UUID) throws`**
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–∞–π–º–µ—Ä –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–æ —Å–±—Ä–æ—Å–æ–º
   - –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç `startDate` –Ω–∞ —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É
   - –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç `daysCount` –Ω–∞ 0
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–∞–π–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É

2. **`getRemainingTime(for cardId: UUID) -> TimeInterval?`**
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ 24-—á–∞—Å–æ–≤–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `nil`, –µ—Å–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–∞–π–º–µ—Ä—ã –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º –≤—Ä–µ–º–µ–Ω–∏

3. **`checkAndUpdateTimers() throws`**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ —Ç–∞–π–º–µ—Ä—ã –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç `daysCount` –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ 24 —á–∞—Å–æ–≤
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ —Ç–∞–π–º–µ—Ä—É

4. **`timerUpdates(for cardId: UUID) -> AnyPublisher<TimeInterval, Never>`**
   - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞ (–¥–ª—è UI)
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –¢–∞–π–º–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç `daysCount` –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ 24 —á–∞—Å–æ–≤
- ‚úÖ `daysCount` –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ `HabitService`
- ‚úÖ –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç NotificationCenter –∏–ª–∏ UIKit-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –æ—Ç UI

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `Services/TimerService.swift`

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `ExampleUsage.swift` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –±–µ–∑ UI.

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `Core/ExampleUsage.swift`

**–ü—Ä–∏–º–µ—Ä—ã –≤–∫–ª—é—á–∞—é—Ç:**
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∏–≤—ã—á–∫–∏
- –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–µ–∫
- –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏
- –ü—Ä–æ–≤–µ—Ä–∫—É –ª–∏–º–∏—Ç–∞ –∫–∞—Ä—Ç–æ—á–µ–∫
- –í–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–∏–≤—ã—á–∫–∏
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞

### –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Xcode Playground

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Playground –≤ Xcode
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–æ–¥—É–ª–∏
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª–∞—Å—Å `ExampleUsage`:

```swift
import Foundation

let example = ExampleUsage()
example.runAllExamples()
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Unit-—Ç–µ—Å—Ç—ã

1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π target –≤ Xcode
2. –ù–∞–ø–∏—à–∏—Ç–µ unit-—Ç–µ—Å—Ç—ã –¥–ª—è `HabitService`:

```swift
func testCreateCard() {
    let storage = UserDefaultsStorageService()
    let statusProvider = DefaultUserStatusProvider()
    let service = HabitService(
        storageService: storage,
        userStatusProvider: statusProvider
    )
    
    let card = HabitCard(
        title: "–ö—É—Ä–µ–Ω–∏–µ",
        startDate: Date(),
        daysCount: 0,
        colorID: 1
    )
    
    XCTAssertNoThrow(try service.create(card: card))
    XCTAssertEqual(service.getAll().count, 1)
}
```

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–æ–¥ –≤ App

–ú–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤ –≤ `DaysWithoutApp.swift`:

```swift
import SwiftUI

@main
struct DaysWithoutApp: App {
    init() {
        // –í—Ä–µ–º–µ–Ω–Ω—ã–π –∫–æ–¥ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        let example = ExampleUsage()
        example.runAllExamples()
    }
    
    var body: some Scene {
        WindowGroup {
            RootView()
        }
    }
}
```

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

1. **–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏:**
   - ‚úÖ –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É —Å –≤–∞–ª–∏–¥–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º
   - ‚úÖ –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º > 17 —Å–∏–º–≤–æ–ª–æ–≤ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞)
   - ‚úÖ –°–æ–∑–¥–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–ª—è Free (3)
   - ‚úÖ –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å 4-—é –∫–∞—Ä—Ç–æ—á–∫—É –ø—Ä–∏ Free —Å—Ç–∞—Ç—É—Å–µ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞)

2. **–£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏:**
   - ‚úÖ –£–¥–∞–ª–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–∞—Ä—Ç–æ—á–∫—É
   - ‚úÖ –ü–æ–ø—ã—Ç–∫–∞ —É–¥–∞–ª–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–∞—Ä—Ç–æ—á–∫—É (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞)

3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
   - ‚úÖ –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏, –∑–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –æ—Ç–∫—Ä—ã—Ç—å —Å–Ω–æ–≤–∞ ‚Äî –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è
   - ‚úÖ `daysCount` –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ

4. **–õ–∏–º–∏—Ç—ã:**
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `canCreateNewCard()` –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞—Ö –∫–∞—Ä—Ç–æ—á–µ–∫
   - ‚úÖ –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ª–∏–º–∏—Ç—ã —Å–æ–±–ª—é–¥–∞—é—Ç—Å—è —Å—Ç—Ä–æ–≥–æ

### –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–î–ª—è –ø–æ–ª–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `StorageService`:

```swift
let storage = UserDefaultsStorageService()
try? storage.clearAll()
```

---

## üìã –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ —ç—Ç–∞–ø–∞ 2

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

- ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ —É–¥–∞–ª—è—é—Ç—Å—è
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –õ–∏–º–∏—Ç—ã Free / Pro —Å–æ–±–ª—é–¥–∞—é—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –ø–æ –¢–ó
- ‚úÖ –í –ø—Ä–æ–µ–∫—Ç–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç UI-–∫–æ–¥ (—Ç–æ–ª—å–∫–æ –∑–∞–≥–ª—É—à–∫–∏)
- ‚úÖ –í—Å—è –ª–æ–≥–∏–∫–∞ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –î—Ä—É–≥–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ—è—Å–Ω–µ–Ω–∏–π

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ —ç—Ç–∞–ø–∞ 2

```
DaysWithout/
‚îú‚îÄ‚îÄ Models/
‚îÇ   ‚îî‚îÄ‚îÄ HabitCard.swift              # –ú–æ–¥–µ–ª—å –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∏–≤—ã—á–∫–∏
‚îú‚îÄ‚îÄ Core/
‚îÇ   ‚îú‚îÄ‚îÄ UserStatus.swift             # Enum —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ UserStatusProvider.swift     # –ü—Ä–æ—Ç–æ–∫–æ–ª –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —Å—Ç–∞—Ç—É—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ TimerConstants.swift         # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è —Ç–∞–π–º–µ—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ ExampleUsage.swift           # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏
‚îî‚îÄ‚îÄ Services/
    ‚îú‚îÄ‚îÄ StorageService.swift         # –ü—Ä–æ—Ç–æ–∫–æ–ª –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
    ‚îú‚îÄ‚îÄ HabitService.swift           # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
    ‚îî‚îÄ‚îÄ TimerService.swift           # –°–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞–º–∏
```

---

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã

–ù–∞ —Å–ª–µ–¥—É—é—â–∏—Ö —ç—Ç–∞–ø–∞—Ö –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- UI —ç–∫—Ä–∞–Ω–æ–≤ (SwiftUI)
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
- –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ —Å ViewModel
- –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è (StoreKit)

**–í–∞–∂–Ω–æ:** –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≥–æ—Ç–æ–≤–∞ –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ UI.

---
